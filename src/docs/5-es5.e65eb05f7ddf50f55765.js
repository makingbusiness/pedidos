function _toConsumableArray(l){return _arrayWithoutHoles(l)||_iterableToArray(l)||_unsupportedIterableToArray(l)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(l,n){if(l){if("string"==typeof l)return _arrayLikeToArray(l,n);var t=Object.prototype.toString.call(l).slice(8,-1);return"Object"===t&&l.constructor&&(t=l.constructor.name),"Map"===t||"Set"===t?Array.from(l):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(l,n):void 0}}function _iterableToArray(l){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(l))return Array.from(l)}function _arrayWithoutHoles(l){if(Array.isArray(l))return _arrayLikeToArray(l)}function _arrayLikeToArray(l,n){(null==n||n>l.length)&&(n=l.length);for(var t=0,u=new Array(n);t<n;t++)u[t]=l[t];return u}function _defineProperties(l,n){for(var t=0;t<n.length;t++){var u=n[t];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(l,u.key,u)}}function _createClass(l,n,t){return n&&_defineProperties(l.prototype,n),t&&_defineProperties(l,t),l}function _classCallCheck(l,n){if(!(l instanceof n))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"h2N+":function(l,n,t){"use strict";t.r(n);var u=t("8Y7J"),o=function l(){_classCallCheck(this,l)},r=t("pMnS"),e=t("MKJQ"),i=t("sZkV"),a=t("0CBe"),c=t("SVse"),s=t("B4d+"),b=t("mrSG"),p=t("GPUG"),d=t("c14U"),h=t("AytR"),f=t("bN2e"),g=function(){function l(n,t,u,o){_classCallCheck(this,l),this.productoService=n,this.ruta=t,this.cartService=u,this.toastController=o,this.productos=[],this.instancias=[],this.subcategoria="",this.slideOpts={slidesPerView:2.3,grabCursor:!0,freeMode:!0},n.paginaActual=0,this.segmentos=t.url.split("/"),this.pagina=this.segmentos[this.segmentos.length-1]}return _createClass(l,[{key:"ngOnInit",value:function(){var l=this;console.log(this.ruta),this.cargarProductos(),this.productoService.getInstancias("1",this.pagina).subscribe((function(n){l.instancias=n.instancias}))}},{key:"detalleProducto",value:function(l){this.ruta.navigate(["/productos/"+this.pagina+"/"+l])}},{key:"mostrarCarro",value:function(){this.ruta.navigate(["/carro"])}},{key:"cargarProductos",value:function(l){var n=this;console.log("Cargando productos...."),this.rutaImg=h.a.url_imagenes,this.segmentos=this.ruta.url.split("/"),0==this.subcategoria.length?this.productoService.getProductos(this.pagina).subscribe((function(t){if(n.producto=t.productos,n.producto){var u;if(0==n.producto.length)return l.target.disabled=!0,void l.target.complete();(u=n.productos).push.apply(u,_toConsumableArray(n.producto))}else console.log("No hay productos para",n.pagina);l&&l.target.complete()}),(function(l){console.log(l)})):this.productoService.getProductosInstancia(this.subcategoria).subscribe((function(t){if(n.producto=t.productos,n.producto){var u;if(0==n.producto.length)return l.target.disabled=!0,void l.target.complete();(u=n.productos).push.apply(u,_toConsumableArray(n.producto))}l&&l.target.complete()}),(function(l){console.log(l)}))}},{key:"slideTap",value:function(l){this.productos=[],this.pagina=l.CodInst.toString(),this.subcategoria=l.CodInst.toString(),this.cargarProductos()}},{key:"agregar",value:function(l){return b.__awaiter(this,void 0,void 0,regeneratorRuntime.mark((function n(){var t;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this.carrito=new f.a(l.CodProd,l.Descrip,1,l.Precio,Math.round(l.Precio*l.Impuesto/100),l.ImgPrincipal),this.cartService.agregar(this.carrito),t=this.toastController.create({message:"Producto agregado",duration:500,position:"bottom",color:"dark"}),n.next=4,t;case 4:n.sent.present();case 5:case"end":return n.stop()}}),n,this)})))}}]),l}(),m=t("iInd"),k=u.ob({encapsulation:0,styles:[["ion-slides[_ngcontent-%COMP%]{height:60px;background-color:#000;color:#fff}ion-img[_ngcontent-%COMP%]{max-width:100px;background-color:#e6e6e6;border-radius:5%;padding:8px}"]],data:{}});function y(l){return u.Kb(0,[(l()(),u.qb(0,0,null,null,3,"ion-button",[["color","dark"],["slot","end"]],null,[[null,"click"]],(function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.mostrarCarro()&&u),u}),e.I,e.c)),u.pb(1,49152,null,0,i.j,[u.h,u.k,u.x],{color:[0,"color"]},null),(l()(),u.qb(2,0,null,0,1,"ion-icon",[["name","cart-outline"]],null,null,null,e.T,e.n)),u.pb(3,49152,null,0,i.B,[u.h,u.k,u.x],{name:[0,"name"]},null)],(function(l,n){l(n,1,0,"dark"),l(n,3,0,"cart-outline")}),null)}function x(l){return u.Kb(0,[(l()(),u.qb(0,0,null,null,4,"ion-slide",[],null,null,null,e.hb,e.B)),u.pb(1,49152,null,0,i.mb,[u.h,u.k,u.x],null,null),(l()(),u.qb(2,0,null,0,2,"ion-label",[["class","condensada"]],null,[[null,"click"]],(function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.slideTap(l.context.$implicit)&&u),u}),e.Z,e.t)),u.pb(3,49152,null,0,i.M,[u.h,u.k,u.x],null,null),(l()(),u.Ib(4,0,["",""]))],null,(function(l,n){l(n,4,0,n.context.$implicit.Descrip)}))}function v(l){return u.Kb(0,[(l()(),u.qb(0,0,null,null,25,"ion-col",[["size","12"]],null,null,null,e.P,e.j)),u.pb(1,49152,null,0,i.s,[u.h,u.k,u.x],{size:[0,"size"]},null),(l()(),u.qb(2,0,null,0,23,"ion-row",[],null,null,null,e.eb,e.y)),u.pb(3,49152,null,0,i.fb,[u.h,u.k,u.x],null,null),(l()(),u.qb(4,0,null,0,4,"ion-col",[["size","4"]],null,null,null,e.P,e.j)),u.pb(5,49152,null,0,i.s,[u.h,u.k,u.x],{size:[0,"size"]},null),(l()(),u.qb(6,0,null,0,2,"ion-img",[],null,[[null,"click"]],(function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.detalleProducto(l.context.$implicit.CodProd)&&u),u}),e.U,e.o)),u.pb(7,49152,null,0,i.C,[u.h,u.k,u.x],{src:[0,"src"]},null),u.Eb(8,1),(l()(),u.qb(9,0,null,0,9,"ion-col",[["size","5"]],null,null,null,e.P,e.j)),u.pb(10,49152,null,0,i.s,[u.h,u.k,u.x],{size:[0,"size"]},null),(l()(),u.qb(11,0,null,0,7,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),u.qb(12,0,null,null,1,"h5",[["class","card-title referencia"]],null,null,null,null,null)),(l()(),u.Ib(13,null,["",""])),(l()(),u.qb(14,0,null,null,1,"p",[["class","card-text condensada"]],null,null,null,null,null)),(l()(),u.Ib(15,null,["",""])),(l()(),u.qb(16,0,null,null,2,"ion-button",[["class","condensada"],["color","dark"],["shape","round"]],null,[[null,"click"]],(function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.agregar(l.context.$implicit)&&u),u}),e.I,e.c)),u.pb(17,49152,null,0,i.j,[u.h,u.k,u.x],{color:[0,"color"],shape:[1,"shape"]},null),(l()(),u.Ib(-1,0,["Agregar al carrito"])),(l()(),u.qb(19,0,null,0,6,"ion-col",[["size","3"]],null,null,null,e.P,e.j)),u.pb(20,49152,null,0,i.s,[u.h,u.k,u.x],{size:[0,"size"]},null),(l()(),u.qb(21,0,null,0,4,"p",[["class","card-text"]],null,null,null,null,null)),(l()(),u.qb(22,0,null,null,3,"small",[["class","text-muted"]],null,null,null,null,null)),(l()(),u.Ib(23,null,["",""])),u.Eb(24,1),u.Eb(25,1)],(function(l,n){l(n,1,0,"12"),l(n,5,0,"4");var t=u.ub(1,"",u.Jb(n,7,0,l(n,8,0,u.Cb(n.parent,0),n.context.$implicit)),"");l(n,7,0,t),l(n,10,0,"5"),l(n,17,0,"dark","round"),l(n,20,0,"3")}),(function(l,n){l(n,13,0,n.context.$implicit.CodProd),l(n,15,0,n.context.$implicit.Descrip);var t=u.Jb(n,23,0,l(n,25,0,u.Cb(n.parent,1),u.Jb(n,23,0,l(n,24,0,u.Cb(n.parent,2),n.context.$implicit.Precio*(1+n.context.$implicit.Impuesto/100)))));l(n,23,0,t)}))}function A(l){return u.Kb(0,[u.Db(0,a.a,[]),u.Db(0,c.c,[u.s]),u.Db(0,s.a,[]),(l()(),u.qb(3,0,null,null,16,"ion-header",[],null,null,null,e.S,e.m)),u.pb(4,49152,null,0,i.A,[u.h,u.k,u.x],null,null),(l()(),u.qb(5,0,null,0,10,"ion-toolbar",[["color","dark"]],null,null,null,e.lb,e.F)),u.pb(6,49152,null,0,i.yb,[u.h,u.k,u.x],{color:[0,"color"]},null),(l()(),u.qb(7,0,null,0,3,"ion-buttons",[["defaultHref","/"],["slot","start"]],null,null,null,e.J,e.d)),u.pb(8,49152,null,0,i.k,[u.h,u.k,u.x],null,null),(l()(),u.qb(9,0,null,0,1,"ion-menu-button",[["autoHide","false"],["menuId","menu"]],null,null,null,e.bb,e.w)),u.pb(10,49152,null,0,i.Q,[u.h,u.k,u.x],{autoHide:[0,"autoHide"]},null),(l()(),u.qb(11,0,null,0,2,"ion-title",[],null,null,null,e.kb,e.E)),u.pb(12,49152,null,0,i.wb,[u.h,u.k,u.x],null,null),(l()(),u.Ib(-1,0,["Lista de productos"])),(l()(),u.fb(16777216,null,0,1,null,y)),u.pb(15,16384,null,0,c.k,[u.N,u.J],{ngIf:[0,"ngIf"]},null),(l()(),u.qb(16,0,null,0,3,"ion-slides",[],null,null,null,e.ib,e.C)),u.pb(17,49152,null,0,i.nb,[u.h,u.k,u.x],{options:[0,"options"]},null),(l()(),u.fb(16777216,null,0,1,null,x)),u.pb(19,278528,null,0,c.j,[u.N,u.J,u.q],{ngForOf:[0,"ngForOf"]},null),(l()(),u.qb(20,0,null,null,18,"ion-content",[],null,null,null,e.Q,e.k)),u.pb(21,49152,null,0,i.t,[u.h,u.k,u.x],{fullscreen:[0,"fullscreen"]},null),(l()(),u.qb(22,0,null,0,6,"ion-header",[["collapse","condense"]],null,null,null,e.S,e.m)),u.pb(23,49152,null,0,i.A,[u.h,u.k,u.x],{collapse:[0,"collapse"]},null),(l()(),u.qb(24,0,null,0,4,"ion-toolbar",[],null,null,null,e.lb,e.F)),u.pb(25,49152,null,0,i.yb,[u.h,u.k,u.x],null,null),(l()(),u.qb(26,0,null,0,2,"ion-title",[["size","large"]],null,null,null,e.kb,e.E)),u.pb(27,49152,null,0,i.wb,[u.h,u.k,u.x],{size:[0,"size"]},null),(l()(),u.Ib(-1,0,["Blank"])),(l()(),u.qb(29,0,null,0,9,"ion-grid",[],null,null,null,e.R,e.l)),u.pb(30,49152,null,0,i.z,[u.h,u.k,u.x],null,null),(l()(),u.qb(31,0,null,0,7,"ion-row",[],null,null,null,e.eb,e.y)),u.pb(32,49152,null,0,i.fb,[u.h,u.k,u.x],null,null),(l()(),u.fb(16777216,null,0,1,null,v)),u.pb(34,278528,null,0,c.j,[u.N,u.J,u.q],{ngForOf:[0,"ngForOf"]},null),(l()(),u.qb(35,0,null,0,3,"ion-infinite-scroll",[["threshold","150px"]],null,[[null,"ionInfinite"]],(function(l,n,t){var u=!0;return"ionInfinite"===n&&(u=!1!==l.component.cargarProductos(t)&&u),u}),e.W,e.p)),u.pb(36,49152,null,0,i.D,[u.h,u.k,u.x],{threshold:[0,"threshold"]},null),(l()(),u.qb(37,0,null,0,1,"ion-infinite-scroll-content",[["loadingSpinner","bubbles"],["loadingText","Cargando ..."]],null,null,null,e.V,e.q)),u.pb(38,49152,null,0,i.E,[u.h,u.k,u.x],{loadingSpinner:[0,"loadingSpinner"],loadingText:[1,"loadingText"]},null)],(function(l,n){var t=n.component;l(n,6,0,"dark"),l(n,10,0,"false"),l(n,15,0,t.cartService.carroCompras.length>0),l(n,17,0,t.slideOpts),l(n,19,0,t.instancias),l(n,21,0,!0),l(n,23,0,"condense"),l(n,27,0,"large"),l(n,34,0,t.productos),l(n,36,0,"150px"),l(n,38,0,"bubbles","Cargando ...")}),null)}var C=u.mb("app-productos",g,(function(l){return u.Kb(0,[(l()(),u.qb(0,0,null,null,1,"app-productos",[],null,null,null,A,k)),u.pb(1,114688,null,0,g,[p.a,m.m,d.a,i.Jb],null,null)],(function(l,n){l(n,1,0)}),null)}),{},{},[]),q=t("s7LF"),I=function l(){_classCallCheck(this,l)},P=t("j1ZV"),_=t("iTUp");t.d(n,"ProductosPageModuleNgFactory",(function(){return S}));var S=u.nb(o,[],(function(l){return u.zb([u.Ab(512,u.j,u.Y,[[8,[r.a,C]],[3,u.j],u.v]),u.Ab(4608,c.m,c.l,[u.s,[2,c.s]]),u.Ab(4608,q.i,q.i,[]),u.Ab(4608,i.b,i.b,[u.x,u.g]),u.Ab(4608,i.Db,i.Db,[i.b,u.j,u.p]),u.Ab(4608,i.Hb,i.Hb,[i.b,u.j,u.p]),u.Ab(1073742336,c.b,c.b,[]),u.Ab(1073742336,q.h,q.h,[]),u.Ab(1073742336,q.c,q.c,[]),u.Ab(1073742336,i.Ab,i.Ab,[]),u.Ab(1073742336,m.n,m.n,[[2,m.s],[2,m.m]]),u.Ab(1073742336,I,I,[]),u.Ab(1073742336,P.a,P.a,[]),u.Ab(1073742336,_.a,_.a,[]),u.Ab(1073742336,o,o,[]),u.Ab(1024,m.k,(function(){return[[{path:"",component:g}]]}),[])])}))}}]);